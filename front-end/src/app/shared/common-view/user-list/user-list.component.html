<div class="left-main-content-view">
  <div *ngIf="users != null">
    <div class="list">
      <div *ngFor="let user of users | userList: searchName: selectedRole: selectedOrganization : sortValue :  pagination.currentPage" class="card">
        <div class="container" (click)="userClicked(user.id)">
          <h4 class="title" style="font-weight: bold">{{user.firstName}} {{user.lastName}}</h4>
          <p class="secondary"> Viewer : <span *ngFor="let org of user.organizations; let i = index">
              {{org.name}}<span *ngIf="i < user.organizations.length-1">, </span> </span> </p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="right-main-content-view"  *ngIf="formInitialize">
  <div class="filter" >
    <form [formGroup]="filterForm" (ngSubmit)="onSearch()">
      <button class="reset" mat-stroked-button (click)="searchFormReset()">RESET</button>
      <p class="title"> Filter by</p>
      <mat-form-field appearance="outline" class="search">
        <mat-label class="label-color">Name</mat-label>
        <input matInput type="text" placeholder="Search Name" formControlName="name">
      </mat-form-field>
      <p class="title" *ngIf="!organizationID"> Role</p>
      <mat-form-field  appearance="outline" class="select" *ngIf="!organizationID">
        <mat-select formControlName="selectedRole">
          <mat-option value="All">All</mat-option>
          <mat-option value="Admin">Admin</mat-option>
          <mat-option value="Viewer">Viewer</mat-option>
        </mat-select>
      </mat-form-field>
      <p class="title" *ngIf="!organizationID"> Organization</p>
      <mat-form-field class="select" appearance="outline" *ngIf="!organizationID">
        <mat-select    formControlName="selectedOrganization">
          <mat-option value="All">All</mat-option>
          <mat-option *ngFor="let organization of organizations" value="{{organization.id}}">{{organization.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <br>
      <button mat-raised-button class="search" type="submit">Search</button>
    </form>
  </div>

  <div class="sort">
    <p class="title"> Sort By</p>
    <mat-radio-group class="example-radio-group" [(ngModel)]="sortValue">
      <mat-radio-button *ngFor="let sort of sorts" value="{{sort}}" (click)="changeSort(sort)" class="radio">
        {{sort}}
      </mat-radio-button>
    </mat-radio-group>
    <p *ngIf="this.pagination"> {{this.pagination.currentPage}}/{{this.pagination.totalPages}}</p>
    <button mat-raised-button (click)="previousPage()">Previous Page</button>
    <button mat-raised-button (click)="nextPage()">Next Page</button>

  </div>
</div>
